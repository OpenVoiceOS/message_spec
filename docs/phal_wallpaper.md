# PHAL Wallpaper Manager

## Listens to

| Message Type                                          | Message Data                                                                          | Description                                                                            | Emitted Response Type                             | Handled by                             |
|-------------------------------------------------------|---------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|---------------------------------------------------|----------------------------------------|
| `ovos.wallpaper.manager.register.provider`            | 'provider_name': str<br>'provider_display_name': str<br>'provider_configurable': bool | Register a wallpaper provider with its name, display name, and configurability status. | `ovos.phal.wallpaper.manager.provider.registered` | handle_register_provider               |
| `ovos.wallpaper.manager.get.registered.providers`     |                                                                                       | Get a list of registered wallpaper providers.                                          |                                                   | handle_get_registered_providers        |
| `ovos.wallpaper.manager.set.active.provider`          | 'provider_name': str<br>'provider_image': str                                         | Set the active wallpaper provider and its optional image.                              |                                                   | handle_set_active_provider             |
| `ovos.wallpaper.manager.get.active.provider`          |                                                                                       | Get the currently active wallpaper provider.                                           |                                                   | handle_get_active_provider             |
| `ovos.wallpaper.manager.setup.default.provider`       | 'provider_name': str<br>'default_wallpaper_name': str                                 | Set up the default wallpaper provider if none is selected.                             |                                                   | handle_setup_default_provider          |
| `ovos.wallpaper.manager.collect.collection.response`  | 'provider_name': str<br>'wallpaper_collection': list                                  | Collect the wallpaper collection from a provider.                                      |                                                   | handle_wallpaper_collection            |
| `ovos.wallpaper.manager.get.collection`               |                                                                                       | Get the current wallpaper collection.                                                  |                                                   | get_wallpaper_collection               |
| `ovos.wallpaper.manager.get.collection.from.provider` | 'provider_name': str                                                                  | Get the wallpaper collection from a specific provider.                                 |                                                   | get_wallpaper_collection_from_provider |
| `ovos.wallpaper.manager.update.collection`            |                                                                                       | Update the wallpaper collection from a provider.                                       |                                                   | collect_wallpapers_from_provider       |
| `ovos.wallpaper.manager.set.wallpaper`                | 'url': str                                                                            | Set the wallpaper using the provided URL.                                              |                                                   | handle_set_wallpaper                   |
| `ovos.wallpaper.manager.get.wallpaper`                |                                                                                       | Get the URL of the currently set wallpaper.                                            |                                                   | handle_get_wallpaper                   |
| `ovos.wallpaper.manager.change.wallpaper`             |                                                                                       | Change the wallpaper to the next in the collection or request a new one.               |                                                   | handle_change_wallpaper                |
| `ovos.wallpaper.manager.enable.auto.rotation`         | 'rotation_time': int                                                                  | Enable automatic wallpaper rotation with the specified time interval.                  | `ovos.wallpaper.manager.auto.rotation.enabled`    | handle_enable_auto_rotation            |
| `ovos.wallpaper.manager.disable.auto.rotation`        |                                                                                       | Disable automatic wallpaper rotation.                                                  | `ovos.wallpaper.manager.auto.rotation.disabled`   | handle_disable_auto_rotation           |
| `ovos.wallpaper.manager.get.auto.rotation`            |                                                                                       | Get the status and rotation time of automatic wallpaper rotation.                      |                                                   | handle_get_auto_rotation               |
| `ovos.wallpaper.manager.get.provider.config`          | 'provider_name': str                                                                  | Get the configuration options from a specific provider.                                |                                                   | handle_get_provider_config             |

## Emits

| Message Type                                          | Message Data                           | Description                                                          | Trigger Message Type  / Emitted by             |
|-------------------------------------------------------|----------------------------------------|----------------------------------------------------------------------|------------------------------------------------|
| `ovos.phal.wallpaper.manager.provider.registered`     |                                        | Notify that a wallpaper provider has been successfully registered.   |                                                |                           
| `ovos.wallpaper.manager.get.provider.config.response` | 'provider_name': str<br>'config': dict | Response to a request for the configuration options from a provider. |                                                | 
| `ovos.wallpaper.manager.auto.rotation.enabled`        |                                        |                                                                      | `ovos.wallpaper.manager.enable.auto.rotation`  |                                 
| `ovos.wallpaper.manager.auto.rotation.disabled`       |                                        |                                                                      | `ovos.wallpaper.manager.disable.auto.rotation` |                                  
| `ovos.wallpaper.manager.loaded`                       |                                        | report load status                                                   | on load                                        |                                  
